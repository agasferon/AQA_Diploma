## План автоматизации тестирования
### Тестовые данные  

Валидные данные:
- Номер карты: 16 цифр в формате XXXX XXXX XXXX XXXX 
- Месяц: в формате 01-12 (не ранее текущего месяца в случае текущего года)
- Год: последние две цифры порядкового номера года (от текущего года до текущий год + 5 лет)
- Владелец: символы латиницы
- CVC/CVV: 3 цифры

Номера карт предоставленные для тестирования:
- number: 4444 4444 4444 4441; status: APPROVED
- number: 4444 4444 4444 4442; status: DECLINED

Тестирование работоспособности в СУБД:
- MySQL
- PostgreSQL

### Перечень автоматизируемых сценариев:

#### Позитивные сценарии:

1. Оплата по одобренной карте
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 44444 4444 4441"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено сообщение о подтверждении оплаты. В БД добавлены строки в таблицах заказа и оплаты (order_entity и payment_entity)
    
1. Оплата по отклоненной карте
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 44444 4444 4442"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено сообщение об отклоненной оплате. В БД добавлены записи в таблицах заказа и оплаты (order_entity и payment_entity)

1. Оплата в кредит по одобренной карте
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 44444 4444 4441"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено сообщение об одобрении оплаты. В БД добавлены записи в таблицах заказа и запроса на кредит (order_entity и credit_request_entity)
    
1. Оплата в кредит по отклоненной карте
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 44444 4444 4442"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено сообщение о не одобренной оплате в кредит. В БД добавлены записи в таблицах заказа и запроса на кредит (order_entity и credit_request_entity)

#### Негативные сценарии:
1. Оплата по номеру карты не предоставленной для тестирования
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "1234 1234 1234 1234"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено сообщение об отклоненной оплате. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата по не валидному номеру карты
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 44"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о не корректном формате номера карты. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата по карте с истекшим сроком действия в этом году
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - Месяц: предыдущий месяц
    - Год: текущий год
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение об истекшем сроке действия карты. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата по карте с истекшим сроком действия в прошлом году
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - Год: предыдущий год
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение об истекшем сроке действия карты. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата по карте с некорректным месяцем в сроке действия
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - Месяц: 15
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате срока действия. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата по карте с нулевым месяцем в сроке действия
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - Месяц: 00
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате срока действия. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата по карте с некорректным годом в сроке действия
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - Год: 55
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате срока действия. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата по карте с владельцем указанным кириллицей
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - Владелец: "Иванов Иван"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате поля 'Владелец'. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата по карте с некорректным CVC кодом
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить"
    - Номер карты: "4444 4444 4444 4441"
    - CVC/CVV: 00
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате CVC/CVV кода. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата в кредит по номеру карты не предоставленной для тестирования
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "1234 1234 1234 1234"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено сообщение об отклоненной оплате. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата в кредит по не валидному номеру карты
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 44"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о не корректном формате номера карты. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата в кредит по карте с истекшим сроком действия в этом году
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - Месяц: предыдущий месяц
    - Год: текущий год
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение об истекшем сроке действия карты. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

1. Оплата в кредит по карте с истекшим сроком действия в прошлом году
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - Год: предыдущий год
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение об истекшем сроке действия карты. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата в кредит по карте с некорректным месяцем в сроке действия
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - Месяц: 15
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате срока действия. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата в кредит по карте с нулевым месяцем в сроке действия
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - Месяц: 00
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате срока действия. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата в кредит по карте с некорректным годом в сроке действия
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - Год: 55
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате срока действия. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата в кредит по карте с владельцем указанным кириллицей
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - Владелец: "Иванов Иван"
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате поля 'Владелец'. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)
    
1. Оплата в кредит по карте с некорректным CVC кодом
    - Открыть [Веб-сервис](http://localhost:8080/)
    - Нажать кнопку "Купить в кредит"
    - Номер карты: "4444 4444 4444 4441"
    - CVC/CVV: 00
    - Остальные поля заполнены валидными значениями
    - Ожидаемый результат: Получено предупреждение о неверном формате CVC/CVV кода. В БД в таблицах заказа и оплаты новых записей не добавлено (order_entity и payment_entity)

      
#### 2. Перечень используемых инструментов:

1. Java 11 - объектно-ориентированный язык программирования.
1. IntelliJ IDEA - популярная среда разработки программного обеспечения. Позволяет анализировать код в процессе написания. Имеет интеграцию множества сервисов.
1. Gradle - система автоматической сборки. Проста и удобна при подключении библиотек и зависимостей в проекте.
1. Docker - система контейнеризации. Позволяет создавать изолированное окружение для сервисов и программ необходимых для работы разрабатываемого или тестируемого приложения.
1. JUnit 5 - библиотека для модульного тестирования программного обеспечения на языке Java. Позволяет сопоставлять фактический результат ожидаемому. 
1. Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, при этом более прост и удобен в использовании.
1. Lombok - процессор аннотаций добавляющий дополнительную функциональность в Java.
1. Faker - библиотека для генерации тестовых данных.
1. Allure Framework - фреймворк для составления отчетов о проведенных автотестах.

#### 3. Перечень и описание возможных рисков при автоматизации:

1. Сложность настройки, а так же возможные проблемы из-за необходимости поддержки работы приложения в двух СУБД - MySQL и Postgres.
1. Отсутствие тестовых атрибутов в элементах приложения усложняет написание тестов.
1. Тесты будут написаны в отношении предоставленного симулятора банковского сервиса. Реальное поведение данных сервисов может отразиться на выполнении тестов.

#### 4. Интервальная оценка с учётом рисков (в часах)

- Написание плана автоматизации - 18
- Настройка тестового окружения - 12
- Написание авто-тестов - 48
- Написание отчетов об ошибках - 12
- Написание отчета по итогам автоматизированного тестирования - 12
- Написание отчета по итогам автоматизации - 12
- Исправление замечаний по работе - 12  

Итого (с учетом рисков) - 145

#### 5. План сдачи дипломной работы

- План автоматизации - 29.10.2020
- Настройка тестового окружения - 01.11.2020
- Написание авто-тестов - 10.11.2020
- Отчет по итогам автоматизированного тестирования - 13.11.2020
- Отчет по итогам автоматизации - 16.11.2020